let media = [
    {
        title: 'Something\'s Coming',
        description: 'from West Side Story',
        format: 'youtube',
        src: 'JnuDpNuEn3U',
        tags: ['360°', 'musical theatre', 'flute', 'clarinet', 'saxophone', 'recorder', 'world flute'],
        year: 2021,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'Be Water, Be Light',
        description: 'Audio-visual poem by Rachel Beckles-Willson',
        format: 'youtube',
        src: '-0PGlubO_uA',
        tags: ['classical music', 'saxophone'],
        year: 2020,
        thumbnail: '',
        visibility: 2
    },
    {
        title: 'Blind Faith',
        description: 'Treason the Musical',
        format: 'youtube',
        src: 'NbjEygB8wfk',
        tags: ['musical theatre', 'flute', 'clarinet', 'recorder'],
        year: 2020,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Bring Me Little Water, Silvy',
        description: 'Arranged by Moira Smiley',
        format: 'youtube',
        src: 'BOgabAx-Cw8',
        tags: ['world flute'],
        year: 2020,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Hagrid\'s Friendly Bird',
        description: 'Excerpt from Harry Potter and the Prisoner of Azkaban',
        format: 'youtube',
        src: '-dU4MBIRKbg',
        tags: ['flute', 'recorder'],
        year: 2020,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'Hugh Ashton\'s Maske',
        description: 'Renaissance quartet',
        format: 'youtube',
        src: 'ZgMBfUniDtU',
        tags: ['early music', 'recorder'],
        year: 2020,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'If She Loved Me',
        description: 'Romantics Anonymous',
        format: 'facebook',
        src: '%2Fwatch%2F%3Fv%3D2759878224333995',
        tags: ['musical theatre', 'clarinet'],
        year: 2020,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Lasciatemi qui solo',
        description: 'Lux Musicae London (360° video)',
        format: 'youtube',
        src: 'm6frSMQOVGo',
        tags: ['early music', 'recorder', '360°'],
        year: 2020,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Maestro – Lee Broom',
        description: 'Advert for designer chair',
        format: 'youtube',
        src: '-Nmh73SW2Sg',
        tags: ['film/tv/adverts', 'classical music', 'clarinet'],
        year: 2020,
        thumbnail: '',
        visibility: 2
    },
    {
        title: 'Locked Down with SC and MM',
        description: 'Performed with composer Matthew Malone',
        format: 'youtube',
        src: 'PXn9bOXJOcc',
        tags: ['classical music', 'clarinet'],
        year: 2020,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'Lola\'s Lion',
        description: 'Short film for Samaritan\'s Purse UK',
        format: 'youtube',
        src: 'sbXtX01VXR4',
        tags: ['film/tv/adverts', 'flute', 'clarinet'],
        year: 2020,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'Opening',
        description: 'from Kenny Wheeler\'s Sweet Time Suite',
        format: 'youtube',
        src: 'tb_9ZFNBWRE',
        tags: ['jazz', 'saxophone', 'world flute'],
        year: 2020,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'Suite No. 1 in F Major – ‘Ascendit\'',
        description: 'for flute, composed by Arnfield Cudal',
        format: 'youtube',
        src: 'UnmfJkwvmjg',
        tags: ['classical music', 'flute'],
        year: 2020,
        thumbnail: '',
        visibility: 2
    },
    {
        title: 'Swive',
        description: 'Shakespeare\'s Globe (Trailer)',
        format: 'youtube',
        src: 'MMIhr2qdAlA',
        tags: ['musical theatre', 'clarinet'],
        year: 2020,
        thumbnail: '',
        visibility: 2
    },
    {
        title: 'Take Things Into Our Own Hands',
        description: 'Treason the Musical',
        format: 'youtube',
        src: 'ZidQd-4wyDI',
        tags: ['musical theatre', 'flute', 'clarinet', 'recorder'],
        year: 2020,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'The Day Elizabeth Died',
        description: 'Treason the Musical',
        format: 'youtube',
        src: '4iFyBRO2vMw',
        tags: ['musical theatre', 'flute', 'clarinet', 'recorder'],
        year: 2020,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'The Dream Bivouac',
        description: 'from the operetta "The American Maid" by J. P. Sousa',
        format: 'youtube',
        src: '3Dvi8Krj9iA',
        tags: ['flute', 'clarinet', 'recorder', 'saxophone'],
        year: 2020,
        thumbnail: '',
        visibility: 4
    },
    {
        title: 'The Parting Glass',
        description: 'Scottish traditional song performed on bansuris',
        format: 'youtube',
        src: '6acEwOgnV0E',
        tags: ['world flute'],
        year: 2020,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Too Good For Words',
        description: 'Romantics Anonymous',
        format: 'facebook',
        src: '%2FWiseChildrenCompany%2Fposts%2F2753311544914240',
        tags: ['musical theatre', 'clarinet'],
        year: 2020,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'Treason the Musical',
        description: 'Original Cast Recording (EP)',
        format: 'spotify',
        src: 'album/49MlrHcUA9ZdrkmLdt1qUP',
        tags: ['musical theatre', 'flute', 'clarinet', 'recorder'],
        year: 2020,
        thumbnail: 'https://i.ytimg.com/vi/nSd_XDd9sEc/hqdefault.jpg',
        visibility: 3
    },
    {
        title: 'Wings',
        description: 'Romantics Anonymous',
        format: 'facebook',
        src: '%2Fwatch%2F%3Fv%3D976556989485452',
        tags: ['musical theatre', 'clarinet', 'recorder'],
        year: 2020,
        thumbnail: '',
        visibility: 4
    },
    {
        title: 'A la una yo nací',
        description: 'Lux Musicae London',
        format: 'youtube',
        src: 'CKg9BSG6OV0',
        tags: ['early music', 'recorder'],
        year: 2019,
        thumbnail: '',
        visibility: 1
    },
    {
        title: 'Con qué la lavaré',
        description: 'Lux Musicae London',
        format: 'youtube',
        src: 'HpU0bcOKzvA',
        tags: ['early music', 'recorder'],
        year: 2019,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Hanacpachap Cussicuinin',
        description: 'Renaissance Hymn from Peru',
        format: 'youtube',
        src: 'p-CjCnokOzI',
        tags: ['early music', 'clarinet', 'flute'],
        year: 2019,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Mild Mabel Kelly',
        description: 'Turlough O\'Carolan',
        format: 'youtube',
        src: 'upwzETtfWMc',
        tags: ['early music', 'clarinet', 'flute', 'world flute'],
        year: 2019,
        thumbnail: '',
        visibility: 2
    },
    {
        title: 'Mimi And The Mountain Dragon',
        description: 'BBC Children\'s Christmas film',
        format: 'youtube',
        src: 'BFC0ZFJFxz4',
        tags: ['film/tv/adverts', 'recorder'],
        year: 2019,
        thumbnail: '',
        visibility: 2
    },
    {
        title: 'Mimi And The Mountain Dragon',
        description: 'BBC Children\'s Christmas film',
        format: 'spotify',
        src: 'album/6oZdww1xzr4kVpLwQTZIdZ',
        tags: ['film/tv/adverts', 'recorder'],
        year: 2019,
        thumbnail: 'https://i.ytimg.com/vi/BFC0ZFJFxz4/hqdefault.jpg',
        visibility: 4
    },
    {
        title: 'Rowan Hudson\'s Passing Ships',
        description: 'A crossover album combining classical and jazz influences',
        format: 'spotify',
        src: 'album/4OBEN30PXSDNknXPCvzGO8',
        tags: ['jazz', 'classical music', 'clarinet'],
        year: 2019,
        thumbnail: 'https://i.ytimg.com/vi/f7YBztyMNls/hqdefault.jpg',
        visibility: 2
    },
    {
        title: 'Susanne un Jour',
        description: 'Orlande de Lassus',
        format: 'youtube',
        src: '4Rcc_hBGsAY',
        tags: ['early music', 'recorder'],
        year: 2019,
        thumbnail: '',
        visibility: 2
    },
    {
        title: 'The Winter\'s Tale',
        description: 'Shakespeare\'s Globe (Trailer)',
        format: 'youtube',
        src: '9ayu890NSNY',
        tags: ['musical theatre', 'clarinet'],
        year: 2019,
        thumbnail: '',
        visibility: 4
    },
    {
        title: 'Un sarao de la chacona',
        description: 'Lux Musicae London',
        format: 'youtube',
        src: 'DGb0hFvFn4c',
        tags: ['early music', 'recorder'],
        year: 2019,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Argos',
        description: 'Christmas Advert',
        format: 'youtube',
        src: '2GYCmwuWBp0',
        tags: ['film/tv/adverts', 'clarinet'],
        year: 2018,
        thumbnail: '',
        visibility: 2
    },
    {
        title: 'Arbos',
        description: 'Flautadors Recorder Ensemble',
        format: 'youtube',
        src: 'pHGy8sQzP1k',
        tags: ['classical music', 'recorder'],
        year: 2017,
        thumbnail: '',
        visibility: 4
    },
    // {
    //     title: 'Bavardage',
    //     description: 'Flautadors Recorder Ensemble',
    //     format: 'spotify',
    //     src: 'album/4GSL9B50kSDnJoKP5wILwW',
    //     tags: ['classical music', 'recorder'],
    //     year: 2017,
    //     thumbnail: 'https://i.ytimg.com/vi/pHGy8sQzP1k/hqdefault.jpg',
    //     visibility: 4
    // },
    {
        title: 'In C',
        description: 'Flautadors Recorder Ensemble',
        format: 'youtube',
        src: '12-3LeTaeHw',
        tags: ['classical music', 'recorder'],
        year: 2017,
        thumbnail: '',
        visibility: 4
    },
    {
        title: 'Romantics Anonymous',
        description: 'Shakespeare’s Globe (Trailer)',
        format: 'youtube',
        src: 'dCp2MDOx2Ms',
        tags: ['musical theatre', 'clarinet', 'recorder'],
        year: 2017,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Automata',
        description: 'Woodwork Recorder Consort',
        format: 'youtube',
        src: 'p7ydL0FCiPQ',
        tags: ['classical music', 'recorder'],
        year: 2015,
        thumbnail: '',
        visibility: 3
    },
    {
        title: 'Music by Holborne and Brade',
        description: 'Woodwork Recorder Consort',
        format: 'youtube',
        src: 'i6XQ-C4EpLQ',
        tags: ['early music', 'recorder'],
        year: 2015,
        thumbnail: '',
        visibility: 1
    }
];

const sortAll = arr => {
    arr.sort((a, b) => {
        if (a.visibility !== b.visibility) return a.visibility - b.visibility;
        if (a.year !== b.year) return b.year - a.year;
        if (a.title < b.title) return -1;
        if (a.title > b.title) return 1;
        return 0;
    });
    return arr;
}

const sorted = sortAll(media);

sorted.forEach(video => {
    let extras = '';
    if (video.thumbnail) {
        extras += ` data-thumbnail="${video.thumbnail}"`;
    }
    if (video.visibility) {
        extras += ` data-visibility="${video.visibility}"`;
    }
    console.log(`<div class="unloaded-thumbnail" data-title="${video.title.replace('\\', '')}" data-description="${video.description}" data-id="${video.src}" data-format="${video.format}" data-tags='["${video.tags.join('", "')}"]' data-year="${video.year}"${extras}><img src="" alt="" loading="lazy"></div>`);
});